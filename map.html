<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width">
<meta charset="UTF-8">
<title>Quantities</title>
<link rel="manifest" href="map.json">
<style>
body {
  margin: 0px;
  padding: 0px;
  overflow-x: hidden;
}
div {
  position: absolute;
  background-color: silver;
}
.h {
  width: 100vw;
  height: 1px;
}
.g {
  width: 100vw;
  height: 2px;
  background-color: black;
}
.v {
  position: fixed;
  width: 1px;
  height: 100%;
}
.label {
  font-size: 1.25rem;
  background-color: #eee;
}
</style>
<script src="algebraic.js"></script>
<script>
const { set } = Reflect
const { keys, assign, entries } = Object
const { PI, round, floor, ceil } = Math
const _ = (a, b) => new Arch(a.log, b)
const {
  kg, m, s, K, C, B, mol, e, Hz, N, J, W, Pa, A, V, Ω,
  cd, F, S, Wb, T, H
} = Arch.units
const g = _(1e-3).mul(kg)
const eV = e.mul(V)
const m3Hz2 = m.pow(3).mul(Hz.pow(2))
const year = _(60*60*24*365.25).mul(s)
const prefix = {
  '': Arch.unity,
  k: _(1e3), M: _(1e6), G: _(1e9), T: _(1e12),
//  P: _(1e15), E: _(1e18), Z: _(1e21), Y: _(1e24),
  m: _(1e-3), μ: _(1e-6), n: _(1e-9), p: _(1e-12),
//  f: _(1e-15), a: _(1e-18), z: _(1e-21), y: _(1e-24)
}
const bprefix = {
  '': Arch.unity,
  Ki: _(2**10), Mi: _(2**20), Gi: _(2**30), Ti: _(2**40),
  Pi: _(2**50), Ei: _(2**60), Zi: _(2**70), Yi: _(2**80)
}
const unit = {
  g, eV,
  m, s, K, C, mol, Hz, N, J, W, Pa, A, V, Ω,
//  cd, F, S, Wb, T, H
}
const vals = {}
keys(prefix).forEach((p) => {
  keys(unit).forEach((u) => {
    set(vals, p + u, prefix[p].mul(unit[u]))
  })
})
keys(bprefix).forEach((p) => {
  set(vals, p + 'B', bprefix[p].mul(B))
})
const { km } = vals
assign(vals, {
  b: _(2 .log),
  G: _(1/(4*PI)),
  'c_=_ε₀_=_μ₀_=_k': Arch.unity,
  h: _(2*PI, 1/4),

  atm: _(101325).mul(Pa),

  min: _(60).mul(s),
  hour: _(60*60).mul(s),
  day: _(60*60*24).mul(s),
  week: _(60*60*24*7).mul(s),
  year,
  Thousand_years: _(1e3).mul(year),
  Million_years: _(1e6).mul(year),
  Billion_years: _(1e9).mul(year),

  CMB: _(2.72548).mul(K),
  '0_°C': _(273.15).mul(K),
  '100_°C': _(273.15 + 100).mul(K),

  mass_electron: _(9.10938356e-31).mul(kg),
  mass_proton: _(1.672621898e-27).mul(kg),
  mass_C12: _(12 * 1.660539040e-27).mul(kg),
  mass_u: _(2.3e6).mul(eV),
  mass_c: _(1.275e9).mul(eV),
  mass_t: _(173.07e9).mul(eV),
  mass_W: _(80.4e9).mul(eV),
  mass_Higgs: _(126e9).mul(eV),

  e,
  IR: _(1.65).mul(eV),
  UV: _(3.26).mul(eV),

  'm/s': m.mul(Hz),
  'km/hour': m.mul(Hz).mul(_(1e3/3600)),

  Bohr_radius: _(0.52917721067e-10).mul(m),

  mass_Moon:    _(4*PI*4.9048695e12).mul(m3Hz2),
  mass_Earth:   _(4*PI*3.986004418e14).mul(m3Hz2),
  mass_Saturn:  _(4*PI*3.7931187e16).mul(m3Hz2),
  mass_Jupiter: _(4*PI*1.26686534e17).mul(m3Hz2),
  mass_Sun:     _(4*PI*1.32712442099e20).mul(m3Hz2),
  radius_Moon: _(3474.3).mul(km),
  radius_Earth: _(6378.137).mul(km),
  radius_Sun: _(695800).mul(km),
  orbit_Moon: _(384400).mul(km),
  au: _(149597870700).mul(m),
  orbit_Plute: _(39.445 * 149600000).mul(km),
  distance_α_Centauri: _(4.39).mul(year),
  distance_Betelgeuse: _(643).mul(year),
  distance_Large_Magellanic: _(162.98e3).mul(year),
  distance_Andromeda: _(2.54e6).mul(year),
  age_Universe: _(13.799e9).mul(year),
})
const [min, max] = entries(vals).reduce(([min, max], [, { ord }]) => [
  ord < min ? ord : min,
  ord > max ? ord : max
], [0, 0])
const lineh = (ord, textContent, klass) => (
  ((div) => (
    set(div, 'textContent', textContent),
    div.setAttribute('style', `top: ${round((ord - min + 1) * 100)}px;`),
    div.setAttribute('class', klass),
    div
  ))(document.createElement('div'))
)
const linev = (arg, textContent, klass) => (
  ((div) => (
    set(div, 'textContent', textContent),
    div.setAttribute('style', `left: ${((arg + 0.5) % 1)*100}vw;`),
    div.setAttribute('class', klass),
    div
  ))(document.createElement('div'))
)
const label = (textContent, { ord, arg }, klass) => (
  ((div) => (
    set(div, 'textContent', textContent),
    div.setAttribute('style', `top: ${round((ord - min + 1) * 100)}px; left: ${((arg + 0.5) % 1)*100}vw;`),
    div.setAttribute('class', 'label'),
    div
  ))(document.createElement('div'))
)

Arch.precision = 6
const divs = []
;((min, max) => {
  [...Array(max - min).keys()].map(a => a + min).forEach((ord) => {
    divs.push(lineh(ord, `${ord}`, 'h'))
  })
})(floor(min), ceil(max))
;[0, 0.125, 0.25, 0.375, 0.625, 0.75, 0.875].forEach((arg) => {
  divs.push(linev(arg, `.${arg.toFixed(3).split('.')[1]}`, 'v'))
})
entries(vals).forEach(([ key, { ord, arg }]) => {
  divs.push(lineh(ord, `  .${ord.toFixed(3).split('.')[1]}`, 'g'))
  divs.push(label(key.split('_').join(' '), { ord, arg }))
})

addEventListener('load', () => {
  divs.forEach((div) => {
    document.body.appendChild(div)
  })
})
</script>
</head>
<body></body>
</html>
